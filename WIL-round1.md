# WIL - 1주차 (TDD & 테스트 가능한 구조)

## 🧠 이번 주에 새로 배운 것
- 테스트 코드를 구현 로직보다 먼저 작성하면 많은 장점이 있다. (TFD)
  - 테스트를 통과하기 위한 구현 로직을 짜게 되어 프로젝트 진행 과정 중 이슈 발생을 줄일 수 있다.
  - 테스트를 먼저 작성하면 기능의 목적과 조건이 명확해진다.
  - 구현 시도는 그 테스트를 통과시키는 데 집중하게 되므로, 불필요한 코드나 과도한 설계(오버 엔지니어링)를 피하게 된다.
  - 자연스럽게 작고 구체적인 단위로 개발이 진행되고, 리팩토링이 수월해진다.
  - 결과적으로 테스트 가능한 구조를 가지게 되어 코드 품질도 향상된다.
- 테스트 더블의 각 쓰임은 정해진 게 아니라 특징에 따라 다양한 테스트에 사용이 가능하다.
  - 반환값이 중요하다면, Stub
  - 메소드 호출 여부가 중요하다면, Mock or Spy
  - 상태를 공유해야 한다면, Fake
  - 아무 역할도 하지 않지만 Null 방지, Dummy

## 💭 이런 고민이 있었어요
- 테스트 코드를 처음 작성해보고 심지어 스프링, Jpa를 이용한 프로젝트도 익숙하지 않은 상태이다 보니 예시 템플릿이 있음에도 막막했다.
  - 일단 단위 테스트부터 예시 코드를 활용해 작성해 보고, 해당 테스트가 실행되기 위해 필요한 것들을 붙여가는 과정에서 구현 로직도 이해가 되었던 것 같다.
- Point 데이터를 Long 데이터로 만들지, VO로 만들지 고민을 했었다.
  - point를 Long 데이터로 만들자니 1주차 과제 내용에서도 포인트 충전 동작이 포함되어 있어서 행동을 부여하기에 VO가 적합하다고 판단했다.
  - 하지만 여전히 User에 종속된 개념으로 이해했기 때문에 (따로 저장이 아니라 member 테이블에 유저와 매핑되어 저장) User 안에 @Embedded로 포함함.


## 💡 앞으로 실무에 써먹을 수 있을 것 같은 포인트
- 테스트 코드가 전무한 프로젝트 소스에 단위 테스트라도 작성해 봐야겠다.😀
- 처음부터 큰 그림을 그리지 않고 세부적인 부분부터 개발한 후에 지속적으로 리팩토링하는 방향으로 업무를 진행해야겠다.
  - 쓸데없는 완벽주의 금지

## 🤔 아쉬웠던 점 & 다음 주에 해보고 싶은 것
- "양철 인형"을 먼저 만들으라는 말이 와닿지 않은 채로, 일단 모든 걸 이해하면서 코딩하려고 했어서 시간이 오래 걸렸다 😅
- 다음 주부터는 일단 돌아가게끔 코딩을 먼저 하고 설계를 고민하면서 계속 코드를 리팩토링 하는 방향으로 프로젝트를 만들어 가고 싶다.
- Facade와 Service 나누는 기준을 공부해 보고 실제 프로젝트에서 잘 다뤄보고 싶다. 
